{% extends "base.html" %}
{% block content %}

<div class="signup">
<div class="container">
  <div class="row">
    <img class="steps-img" src="{{ url_for('static', filename='img/step3.png') }}">
    <h1>Add a User</h1>
    <hr>
    <div class="col col-md-4 col-md-offset-2">
      <p class="p-impt">Our API is dead easy to use.</p> 

      <p>It's simply a PUT request away! Here's a curl example. Make sure to fill in the following fields:</p>
      <ul>
        <li>USER_ID - a unique ID for your user. Can be any mix of numbers or letters</li>
        <li>USER_NAME - your user's name. ex. Beato Bongco</li>
        <li>USER_NUMBER - your user's phone number. Make sure it starts with 63! ex. 63926XXXXXXX</li>
      </ul>
      <pre><code>curl -X PUT \
-d 'name=USER_NAME&number=USER_NUMBER' \
{{ url_for('api_user', client_id=app.client_id, user_id='USER_ID', secret_key=app.secret_key, _external=True) }}</code></pre>
    </div>

    <div class="col col-md-4">
      <p>Want to try it out without writing any code? <br> Use this form!</p>
      <form role="form" name="kform" action="{{ url_for('.add_user') }}" method="post" onsubmit="return validateForm()">
      <p>
        <label>
          User ID
          <input class="form-control"size="64" type="text" name="user_id">
        </label>
      </p>
      <p>
        <label>
          User Name
          <input class="form-control"size="64" type="text" name="user_name">
        </label>
      </p>
      <p>
        <label>
          User Number (make sure it start with 63, i.e. 63926XXXXXXX)
          <input class="form-control numeric" size="64" type="text" name="user_number">
        </label>
      </p>
      <p class="missing">Please fill in all the fields.</p>
      <p>
        <button class="btn btn-default btn-primary" type="submit">Add User</button>
      </p>
      </form>
    </div>
  </div>
</div>
</div>
{% endblock %}
{% block extrajs %}
<script type="text/javascript">
 function validateForm() {
    var x = document.forms["kform"]["user_id"].value;
    var y = document.forms["kform"]["user_name"].value;
    var z = document.forms["kform"]["user_number"].value;
    if ((x == null || x == "") ||
        (y == null || y == "") ||
        (z == null || z == ""))
    {
        $('.missing').show();
        return false;
    }
}
</script>
{% endblock %}
